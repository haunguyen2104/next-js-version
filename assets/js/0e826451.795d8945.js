"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[7405],{6919:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>o,toc:()=>l});var a=t(5893),i=t(1151);const s={description:"Enable AMP in a page, and control the way Next.js adds AMP to the page with the AMP config."},r="next/amp",o={id:"next-js/v13.0.0/api-reference/next/amp",title:"next/amp",description:"Enable AMP in a page, and control the way Next.js adds AMP to the page with the AMP config.",source:"@site/docs/next-js/v13.0.0/api-reference/next/amp.md",sourceDirName:"next-js/v13.0.0/api-reference/next",slug:"/next-js/v13.0.0/api-reference/next/amp",permalink:"/next-js/v13.0.0/api-reference/next/amp",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.0/api-reference/next/amp.md",tags:[],version:"current",frontMatter:{description:"Enable AMP in a page, and control the way Next.js adds AMP to the page with the AMP config."},sidebar:"tutorialSidebar",previous:{title:"Edge Runtime",permalink:"/next-js/v13.0.0/api-reference/edge-runtime"},next:{title:"next/head",permalink:"/next-js/v13.0.0/api-reference/next/head"}},c={},l=[{value:"AMP First Page",id:"amp-first-page",level:2},{value:"Hybrid AMP Page",id:"hybrid-amp-page",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"nextamp",children:"next/amp"}),"\n",(0,a.jsxs)(t,{children:[(0,a.jsx)("summary",{children:(0,a.jsx)("b",{children:"Examples"})}),(0,a.jsx)("ul",{children:(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/amp",children:"AMP"})})})]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["AMP support is one of our advanced features, you can ",(0,a.jsx)(n.a,{href:"/docs/advanced-features/amp-support/introduction.md",children:"read more about AMP here"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"To enable AMP, add the following config to your page:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"export const config = { amp: true }\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"amp"})," config accepts the following values:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"true"})," - The page will be AMP-only"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"'hybrid'"})," - The page will have two versions, one with AMP and another one with HTML"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["To learn more about the ",(0,a.jsx)(n.code,{children:"amp"})," config, read the sections below."]}),"\n",(0,a.jsx)(n.h2,{id:"amp-first-page",children:"AMP First Page"}),"\n",(0,a.jsx)(n.p,{children:"Take a look at the following example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"export const config = { amp: true }\n\nfunction About(props) {\n  return <h3>My AMP About Page!</h3>\n}\n\nexport default About\n"})}),"\n",(0,a.jsx)(n.p,{children:"The page above is an AMP-only page, which means:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The page has no Next.js or React client-side runtime"}),"\n",(0,a.jsxs)(n.li,{children:["The page is automatically optimized with ",(0,a.jsx)(n.a,{href:"https://github.com/ampproject/amp-toolbox/tree/master/packages/optimizer",children:"AMP Optimizer"}),", an optimizer that applies the same transformations as AMP caches (improves performance by up to 42%)"]}),"\n",(0,a.jsx)(n.li,{children:"The page has a user-accessible (optimized) version of the page and a search-engine indexable (unoptimized) version of the page"}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"hybrid-amp-page",children:"Hybrid AMP Page"}),"\n",(0,a.jsx)(n.p,{children:"Take a look at the following example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'import { useAmp } from \'next/amp\'\n\nexport const config = { amp: \'hybrid\' }\n\nfunction About(props) {\n  const isAmp = useAmp()\n\n  return (\n    <div>\n      <h3>My AMP About Page!</h3>\n      {isAmp ? (\n        <amp-img\n          width="300"\n          height="300"\n          src="/my-img.jpg"\n          alt="a cool image"\n          layout="responsive"\n        />\n      ) : (\n        <img width="300" height="300" src="/my-img.jpg" alt="a cool image" />\n      )}\n    </div>\n  )\n}\n\nexport default About\n'})}),"\n",(0,a.jsx)(n.p,{children:"The page above is a hybrid AMP page, which means:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["The page is rendered as traditional HTML (default) and AMP HTML (by adding ",(0,a.jsx)(n.code,{children:"?amp=1"})," to the URL)"]}),"\n",(0,a.jsx)(n.li,{children:"The AMP version of the page only has valid optimizations applied with AMP Optimizer so that it is indexable by search-engines"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The page uses ",(0,a.jsx)(n.code,{children:"useAmp"})," to differentiate between modes, it's a ",(0,a.jsx)(n.a,{href:"https://reactjs.org/docs/hooks-intro.html",children:"React Hook"})," that returns ",(0,a.jsx)(n.code,{children:"true"})," if the page is using AMP, and ",(0,a.jsx)(n.code,{children:"false"})," otherwise."]})]})}function p(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>r});var a=t(7294);const i={},s=a.createContext(i);function r(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);