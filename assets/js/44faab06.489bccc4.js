"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[6833],{7858:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var r=t(5893),i=t(1151);const s={description:"Next.js helps you optimize loading third-party scripts with the built-in next/script component."},o="Script Component",a={id:"next-js/v13.0.0/basic-features/script",title:"Script Component",description:"Next.js helps you optimize loading third-party scripts with the built-in next/script component.",source:"@site/docs/next-js/v13.0.0/basic-features/script.md",sourceDirName:"next-js/v13.0.0/basic-features",slug:"/next-js/v13.0.0/basic-features/script",permalink:"/next-js/v13.0.0/basic-features/script",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.0/basic-features/script.md",tags:[],version:"current",frontMatter:{description:"Next.js helps you optimize loading third-party scripts with the built-in next/script component."},sidebar:"tutorialSidebar",previous:{title:"Pages",permalink:"/next-js/v13.0.0/basic-features/pages"},next:{title:"Static File Serving",permalink:"/next-js/v13.0.0/basic-features/static-file-serving"}},c={},d=[{value:"Overview",id:"overview",level:2},{value:"Usage",id:"usage",level:2},{value:"Strategy",id:"strategy",level:3},{value:"beforeInteractive",id:"beforeinteractive",level:4},{value:"afterInteractive",id:"afterinteractive",level:4},{value:"lazyOnload",id:"lazyonload",level:4},{value:"Off-loading Scripts To A Web Worker (experimental)",id:"off-loading-scripts-to-a-web-worker-experimental",level:3},{value:"Configuration",id:"configuration",level:4},{value:"Inline Scripts",id:"inline-scripts",level:3},{value:"Executing Code After Loading (<code>onLoad</code>)",id:"executing-code-after-loading-onload",level:3},{value:"Executing Code After Mounting (<code>onReady</code>)",id:"executing-code-after-mounting-onready",level:3},{value:"Handling errors (<code>onError</code>)",id:"handling-errors-onerror",level:3},{value:"Additional Attributes",id:"additional-attributes",level:3}];function l(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"script-component",children:"Script Component"}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Examples"})}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/script-component",children:"Script Component"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-google-tag-manager",children:"Google Tag Manager"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics",children:"Google Analytics"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-facebook-pixel",children:"Facebook Pixel"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-clerk",children:"Clerk"})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-segment-analytics",children:"Segment Analytics"})})]})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Version History"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Version"}),(0,r.jsx)(n.th,{children:"Changes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"v12.2.4"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"onReady"})," prop added."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"v12.2.2"})}),(0,r.jsxs)(n.td,{children:["Allow ",(0,r.jsx)(n.code,{children:"next/script"})," with ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," to be placed in ",(0,r.jsx)(n.code,{children:"_document"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"v11.0.0"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"next/script"})," introduced."]})]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The Next.js Script component, ",(0,r.jsx)(n.a,{href:"/docs/api-reference/next/script.md",children:(0,r.jsx)(n.code,{children:"next/script"})}),", is an extension of the HTML ",(0,r.jsx)(n.code,{children:"<script>"})," element. It enables developers to set the loading priority of third-party scripts anywhere in their application, outside ",(0,r.jsx)(n.code,{children:"next/head"}),", saving developer time while improving loading performance."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import Script from 'next/script'\n\nexport default function Home() {\n  return (\n    <>\n      <Script src=\"https://www.google-analytics.com/analytics.js\" />\n    </>\n  )\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"Websites often use third-party scripts to include different types of functionality into their site, such as analytics, ads, customer support widgets, and consent management. However, this can introduce problems that impact both user and developer experience:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Some third-party scripts are heavy on loading performance and can drag down the user experience, especially if they are render-blocking and delay any page content from loading"}),"\n",(0,r.jsx)(n.li,{children:"Developers often struggle to decide where to place third-party scripts in an application to ensure optimal loading"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The Script component makes it easier for developers to place a third-party script anywhere in their application while taking care of optimizing its loading strategy."}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsxs)(n.p,{children:["To add a third-party script to your application, import the ",(0,r.jsx)(n.code,{children:"next/script"})," component:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import Script from 'next/script'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"strategy",children:"Strategy"}),"\n",(0,r.jsxs)(n.p,{children:["With ",(0,r.jsx)(n.code,{children:"next/script"}),", you decide when to load your third-party script by using the ",(0,r.jsx)(n.code,{children:"strategy"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:'<Script src="https://connect.facebook.net/en_US/sdk.js" strategy="lazyOnload" />\n'})}),"\n",(0,r.jsx)(n.p,{children:"There are four different loading strategies that can be used:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"beforeInteractive"}),": Load before the page is interactive"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"afterInteractive"}),": (",(0,r.jsx)(n.strong,{children:"default"}),") Load immediately after the page becomes interactive"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"lazyOnload"}),": Load during idle time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"worker"}),": (experimental) Load in a web worker"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"beforeinteractive",children:"beforeInteractive"}),"\n",(0,r.jsxs)(n.p,{children:["Scripts that load with the ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," strategy are injected into the initial HTML from the server and run before self-bundled JavaScript is executed. This strategy should be used for any critical scripts that need to be fetched and executed before any page becomes interactive. This strategy only works inside ",(0,r.jsx)(n.strong,{children:"_document.js"})," and is designed to load scripts that are needed by the entire site (i.e. the script will load when any page in the application has been loaded server-side)."]}),"\n",(0,r.jsxs)(n.p,{children:["The reason ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," was designed to work only inside ",(0,r.jsx)(n.code,{children:"\\_document.js"})," is to support streaming and Suspense functionality. Outside of the ",(0,r.jsx)(n.code,{children:"_document"}),", it's not possible to guarantee the timing or ordering of ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," scripts."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"// In _document.js\nimport { Html, Head, Main, NextScript } from 'next/document'\nimport Script from 'next/script'\n\nexport default function Document() {\n  return (\n    <Html>\n      <Head />\n      <body>\n        <Main />\n        <NextScript />\n        <Script\n          src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.min.js\"\n          strategy=\"beforeInteractive\"\n        ><\/Script>\n      </body>\n    </Html>\n  )\n}\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": Scripts with ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," will always be injected inside the ",(0,r.jsx)(n.code,{children:"head"})," of the HTML document regardless of where it's placed in ",(0,r.jsx)(n.code,{children:"_document.js"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Examples of scripts that should be loaded as soon as possible with this strategy include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Bot detectors"}),"\n",(0,r.jsx)(n.li,{children:"Cookie consent managers"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"afterinteractive",children:"afterInteractive"}),"\n",(0,r.jsxs)(n.p,{children:["Scripts that use the ",(0,r.jsx)(n.code,{children:"afterInteractive"})," strategy are injected client-side and will run after Next.js hydrates the page. This strategy should be used for scripts that do not need to load as soon as possible and can be fetched and executed immediately after the page is interactive."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"<Script\n  id=\"google-analytics\"\n  strategy=\"afterInteractive\"\n  dangerouslySetInnerHTML={{\n    __html: `\n    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer', 'GTM-XXXXXX');\n  `,\n  }}\n/>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Examples of scripts that are good candidates to load immediately after the page becomes interactive include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tag managers"}),"\n",(0,r.jsx)(n.li,{children:"Analytics"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"lazyonload",children:"lazyOnload"}),"\n",(0,r.jsxs)(n.p,{children:["Scripts that use the ",(0,r.jsx)(n.code,{children:"lazyOnload"})," strategy are loaded late after all resources have been fetched and during idle time. This strategy should be used for background or low priority scripts that do not need to load before or immediately after a page becomes interactive."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:'<Script src="https://connect.facebook.net/en_US/sdk.js" strategy="lazyOnload" />\n'})}),"\n",(0,r.jsx)(n.p,{children:"Examples of scripts that do not need to load immediately and can be lazy-loaded include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Chat support plugins"}),"\n",(0,r.jsx)(n.li,{children:"Social media widgets"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"off-loading-scripts-to-a-web-worker-experimental",children:"Off-loading Scripts To A Web Worker (experimental)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Note: The ",(0,r.jsx)(n.code,{children:"worker"})," strategy is not yet stable and can cause unexpected issues in your application. Use with caution."]})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Scripts that use the ",(0,r.jsx)(n.code,{children:"worker"})," strategy are relocated and executed in a web worker with ",(0,r.jsx)(n.a,{href:"https://partytown.builder.io/",children:"Partytown"}),". This can improve the performance of your site by dedicating the main thread to the rest of your application code."]}),"\n",(0,r.jsxs)(n.p,{children:["This strategy is still experimental and can only be used if the ",(0,r.jsx)(n.code,{children:"nextScriptWorkers"})," flag is enabled in ",(0,r.jsx)(n.code,{children:"next.config.js"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  experimental: {\n    nextScriptWorkers: true,\n  },\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then, run ",(0,r.jsx)(n.code,{children:"next"})," (normally ",(0,r.jsx)(n.code,{children:"npm run dev"})," or ",(0,r.jsx)(n.code,{children:"yarn dev"}),") and Next.js will guide you through the installation of the required packages to finish the setup:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run dev\n\n# You'll see instructions like these:\n#\n# Please install Partytown by running:\n#\n#         npm install @builder.io/partytown\n#\n# ...\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Once setup is complete, defining ",(0,r.jsx)(n.code,{children:'strategy="worker"'})," will automatically instantiate Partytown in your application and off-load the script to a web worker."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:'<Script src="https://example.com/analytics.js" strategy="worker" />\n'})}),"\n",(0,r.jsxs)(n.p,{children:["There are a number of trade-offs that need to be considered when loading a third-party script in a web worker. Please see Partytown's ",(0,r.jsx)(n.a,{href:"https://partytown.builder.io/trade-offs",children:"Trade-Offs"})," documentation for more information."]}),"\n",(0,r.jsx)(n.h4,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Although the ",(0,r.jsx)(n.code,{children:"worker"})," strategy does not require any additional configuration to work, Partytown supports the use of a config object to modify some of its settings, including enabling ",(0,r.jsx)(n.code,{children:"debug"})," mode and forwarding events and triggers."]}),"\n",(0,r.jsxs)(n.p,{children:["If you would like to add additional configuration options, you can include it within the ",(0,r.jsx)(n.code,{children:"<Head />"})," component used in a ",(0,r.jsxs)(n.a,{href:"/docs/advanced-features/custom-document.md",children:["custom ",(0,r.jsx)(n.code,{children:"_document.js"})]}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import { Html, Head, Main, NextScript } from 'next/document'\n\nexport default function Document() {\n  return (\n    <Html>\n      <Head>\n        <script\n          data-partytown-config\n          dangerouslySetInnerHTML={{\n            __html: `\n              partytown = {\n                lib: \"/_next/static/~partytown/\",\n                debug: true\n              };\n            `,\n          }}\n        />\n      </Head>\n      <body>\n        <Main />\n        <NextScript />\n      </body>\n    </Html>\n  )\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"In order to modify Partytown's configuration, the following conditions must be met:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"data-partytown-config"})," attribute must be used in order to overwrite the default configuration used by Next.js"]}),"\n",(0,r.jsxs)(n.li,{children:["Unless you decide to save Partytown's library files in a separate directory, the ",(0,r.jsx)(n.code,{children:'lib: "/_next/static/~partytown/"'})," property and value must be included in the configuration object in order to let Partytown know where Next.js stores the necessary static files."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note"}),": If you are using an ",(0,r.jsx)(n.a,{href:"/docs/api-reference/next.config.js/cdn-support-with-asset-prefix.md",children:"asset prefix"})," and would like to modify Partytown's default configuration, you must include it as part of the ",(0,r.jsx)(n.code,{children:"lib"})," path."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Take a look at Partytown's ",(0,r.jsx)(n.a,{href:"https://partytown.builder.io/configuration",children:"configuration options"})," to see the full list of other properties that can be added."]}),"\n",(0,r.jsx)(n.h3,{id:"inline-scripts",children:"Inline Scripts"}),"\n",(0,r.jsx)(n.p,{children:"Inline scripts, or scripts not loaded from an external file, are also supported by the Script component. They can be written by placing the JavaScript within curly braces:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"<Script id=\"show-banner\" strategy=\"lazyOnload\">\n  {`document.getElementById('banner').classList.remove('hidden')`}\n<\/Script>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or by using the ",(0,r.jsx)(n.code,{children:"dangerouslySetInnerHTML"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"<Script\n  id=\"show-banner\"\n  strategy=\"lazyOnload\"\n  dangerouslySetInnerHTML={{\n    __html: `document.getElementById('banner').classList.remove('hidden')`,\n  }}\n/>\n"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"id"})," property is required for ",(0,r.jsx)(n.strong,{children:"inline scripts"})," in order for Next.js to track and optimize the script."]}),"\n",(0,r.jsxs)(n.h3,{id:"executing-code-after-loading-onload",children:["Executing Code After Loading (",(0,r.jsx)(n.code,{children:"onLoad"}),")"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Note: ",(0,r.jsx)(n.code,{children:"onLoad"})," cannot be used with the ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," loading strategy. Consider using ",(0,r.jsx)(n.code,{children:"onReady"})," instead."]})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Some third-party scripts require users to run JavaScript code once after the script has finished loading in order to instantiate content or call a function. If you are loading a script with either ",(0,r.jsx)(n.code,{children:"afterInteractive"})," or ",(0,r.jsx)(n.code,{children:"lazyOnload"})," as a loading strategy, you can execute code after it has loaded using the ",(0,r.jsx)(n.code,{children:"onLoad"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import { useState } from 'react'\nimport Script from 'next/script'\n\nexport default function Home() {\n  const [stripe, setStripe] = useState(null)\n\n  return (\n    <>\n      <Script\n        id=\"stripe-js\"\n        src=\"https://js.stripe.com/v3/\"\n        onLoad={() => {\n          setStripe({ stripe: window.Stripe('pk_test_12345') })\n        }}\n      />\n    </>\n  )\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"executing-code-after-mounting-onready",children:["Executing Code After Mounting (",(0,r.jsx)(n.code,{children:"onReady"}),")"]}),"\n",(0,r.jsxs)(n.p,{children:["Some third-party scripts require users to run JavaScript code after the script has finished loading and every time the component is mounted (after a route navigation for example). You can execute code after the script's ",(0,r.jsx)(n.code,{children:"load"})," event when it first loads and then after every subsequent component re-mount using the ",(0,r.jsx)(n.code,{children:"onReady"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import { useRef } from 'react'\nimport Script from 'next/script'\n\nexport default function Home() {\n  const mapRef = useRef()\n  return (\n    <>\n      <div ref={mapRef}></div>\n      <Script\n        id=\"google-maps\"\n        src=\"https://maps.googleapis.com/maps/api/js\"\n        onReady={() => {\n          new google.maps.Map(mapRef.current, {\n            center: { lat: -34.397, lng: 150.644 },\n            zoom: 8,\n          })\n        }}\n      />\n    </>\n  )\n}\n"})}),"\n",(0,r.jsxs)(n.h3,{id:"handling-errors-onerror",children:["Handling errors (",(0,r.jsx)(n.code,{children:"onError"}),")"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Note: ",(0,r.jsx)(n.code,{children:"onError"})," cannot be used with the ",(0,r.jsx)(n.code,{children:"beforeInteractive"})," loading strategy."]})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Sometimes it is helpful to catch when a script fails to load. These errors can be handled with the ",(0,r.jsx)(n.code,{children:"onError"})," property:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"import Script from 'next/script'\n\nexport default function Home() {\n  return (\n    <>\n      <Script\n        id=\"will-fail\"\n        src=\"https://example.com/non-existant-script.js\"\n        onError={(e) => {\n          console.error('Script failed to load', e)\n        }}\n      />\n    </>\n  )\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"additional-attributes",children:"Additional Attributes"}),"\n",(0,r.jsxs)(n.p,{children:["There are many DOM attributes that can be assigned to a ",(0,r.jsx)(n.code,{children:"<script>"})," element that are not used by the Script component, like ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/nonce",children:(0,r.jsx)(n.code,{children:"nonce"})})," or ",(0,r.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/data-*",children:"custom data attributes"}),". Including any additional attributes will automatically forward it to the final, optimized ",(0,r.jsx)(n.code,{children:"<script>"})," element that is outputted to the page."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:'import Script from \'next/script\'\n\nexport default function Home() {\n  return (\n    <>\n      <Script\n        src="https://www.google-analytics.com/analytics.js"\n        id="analytics"\n        nonce="XUENAJFW"\n        data-test="analytics"\n      />\n    </>\n  )\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>o});var r=t(7294);const i={},s=r.createContext(i);function o(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);