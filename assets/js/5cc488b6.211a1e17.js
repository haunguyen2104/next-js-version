"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[9748],{9857:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var t=s(5893),i=s(1151);const r={description:"Next.js has a built-in, opinionated, and file-system based Router. You can learn how it works here."},o="Routing",l={id:"next-js/v13.0.1/routing/introduction",title:"Routing",description:"Next.js has a built-in, opinionated, and file-system based Router. You can learn how it works here.",source:"@site/docs/next-js/v13.0.1/routing/introduction.md",sourceDirName:"next-js/v13.0.1/routing",slug:"/next-js/v13.0.1/routing/introduction",permalink:"/next-js/v13.0.1/routing/introduction",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.1/routing/introduction.md",tags:[],version:"current",frontMatter:{description:"Next.js has a built-in, opinionated, and file-system based Router. You can learn how it works here."},sidebar:"tutorialSidebar",previous:{title:"Imperatively",permalink:"/next-js/v13.0.1/routing/imperatively"},next:{title:"Shallow Routing",permalink:"/next-js/v13.0.1/routing/shallow-routing"}},c={},d=[{value:"Index routes",id:"index-routes",level:4},{value:"Nested routes",id:"nested-routes",level:4},{value:"Dynamic route segments",id:"dynamic-route-segments",level:4},{value:"Linking between pages",id:"linking-between-pages",level:2},{value:"Linking to dynamic paths",id:"linking-to-dynamic-paths",level:3},{value:"Injecting the router",id:"injecting-the-router",level:2},{value:"Learn more",id:"learn-more",level:2}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"routing",children:"Routing"}),"\n",(0,t.jsxs)(n.p,{children:["Next.js has a file-system based router built on the ",(0,t.jsx)(n.a,{href:"/docs/basic-features/pages.md",children:"concept of pages"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["When a file is added to the ",(0,t.jsx)(n.code,{children:"pages"})," directory, it's automatically available as a route."]}),"\n",(0,t.jsxs)(n.p,{children:["The files inside the ",(0,t.jsx)(n.code,{children:"pages"})," directory can be used to define most common patterns."]}),"\n",(0,t.jsx)(n.h4,{id:"index-routes",children:"Index routes"}),"\n",(0,t.jsxs)(n.p,{children:["The router will automatically route files named ",(0,t.jsx)(n.code,{children:"index"})," to the root of the directory."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/index.js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/blog/index.js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/blog"})]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"nested-routes",children:"Nested routes"}),"\n",(0,t.jsx)(n.p,{children:"The router supports nested files. If you create a nested folder structure, files will automatically be routed in the same way still."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/blog/first-post.js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/blog/first-post"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/dashboard/settings/username.js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/dashboard/settings/username"})]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"dynamic-route-segments",children:"Dynamic route segments"}),"\n",(0,t.jsx)(n.p,{children:"To match a dynamic segment, you can use the bracket syntax. This allows you to match named parameters."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/blog/[slug].js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/blog/:slug"})," (",(0,t.jsx)(n.code,{children:"/blog/hello-world"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/[username]/settings.js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/:username/settings"})," (",(0,t.jsx)(n.code,{children:"/foo/settings"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pages/post/[...all].js"})," \u2192 ",(0,t.jsx)(n.code,{children:"/post/*"})," (",(0,t.jsx)(n.code,{children:"/post/2020/id/title"}),")"]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Check out the ",(0,t.jsx)(n.a,{href:"/docs/routing/dynamic-routes.md",children:"Dynamic Routes documentation"})," to learn more about how they work."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"linking-between-pages",children:"Linking between pages"}),"\n",(0,t.jsx)(n.p,{children:"The Next.js router allows you to do client-side route transitions between pages, similar to a single-page application."}),"\n",(0,t.jsxs)(n.p,{children:["A React component called ",(0,t.jsx)(n.code,{children:"Link"})," is provided to do this client-side route transition."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'import Link from "next/link";\n\nfunction Home() {\n  return (\n    <ul>\n      <li>\n        <Link href="/">Home</Link>\n      </li>\n      <li>\n        <Link href="/about">About Us</Link>\n      </li>\n      <li>\n        <Link href="/blog/hello-world">Blog Post</Link>\n      </li>\n    </ul>\n  );\n}\n\nexport default Home;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The example above uses multiple links. Each one maps a path (",(0,t.jsx)(n.code,{children:"href"}),") to a known page:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/"})," \u2192 ",(0,t.jsx)(n.code,{children:"pages/index.js"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/about"})," \u2192 ",(0,t.jsx)(n.code,{children:"pages/about.js"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"/blog/hello-world"})," \u2192 ",(0,t.jsx)(n.code,{children:"pages/blog/[slug].js"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Any ",(0,t.jsx)(n.code,{children:"<Link />"})," in the viewport (initially or through scroll) will be prefetched by default (including the corresponding data) for pages using ",(0,t.jsx)(n.a,{href:"/docs/basic-features/data-fetching/get-static-props.md",children:"Static Generation"}),". The corresponding data for ",(0,t.jsx)(n.a,{href:"/docs/basic-features/data-fetching/get-server-side-props.md",children:"server-rendered"})," routes is fetched ",(0,t.jsx)(n.em,{children:"only when"})," the ",(0,t.jsx)(n.code,{children:"<Link />"})," is clicked."]}),"\n",(0,t.jsx)(n.h3,{id:"linking-to-dynamic-paths",children:"Linking to dynamic paths"}),"\n",(0,t.jsxs)(n.p,{children:["You can also use interpolation to create the path, which comes in handy for ",(0,t.jsx)(n.a,{href:"#dynamic-route-segments",children:"dynamic route segments"}),". For example, to show a list of posts which have been passed to the component as a prop:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'import Link from "next/link";\n\nfunction Posts({ posts }) {\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li key={post.id}>\n          <Link href={`/blog/${encodeURIComponent(post.slug)}`}>{post.title}</Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default Posts;\n'})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent",children:(0,t.jsx)(n.code,{children:"encodeURIComponent"})})," is used in the example to keep the path utf-8 compatible."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alternatively, using a URL Object:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-jsx",children:'import Link from "next/link";\n\nfunction Posts({ posts }) {\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li key={post.id}>\n          <Link\n            href={{\n              pathname: "/blog/[slug]",\n              query: { slug: post.slug },\n            }}\n          >\n            {post.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport default Posts;\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Now, instead of using interpolation to create the path, we use a URL object in ",(0,t.jsx)(n.code,{children:"href"})," where:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"pathname"})," is the name of the page in the ",(0,t.jsx)(n.code,{children:"pages"})," directory. ",(0,t.jsx)(n.code,{children:"/blog/[slug]"})," in this case."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"query"})," is an object with the dynamic segment. ",(0,t.jsx)(n.code,{children:"slug"})," in this case."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"injecting-the-router",children:"Injecting the router"}),"\n",(0,t.jsxs)(s,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)("b",{children:"Examples"})}),(0,t.jsx)("ul",{children:(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/dynamic-routing",children:"Dynamic Routing"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["To access the ",(0,t.jsxs)(n.a,{href:"/docs/api-reference/next/router.md#router-object",children:[(0,t.jsx)(n.code,{children:"router"})," object"]})," in a React component you can use ",(0,t.jsx)(n.a,{href:"/docs/api-reference/next/router.md#useRouter",children:(0,t.jsx)(n.code,{children:"useRouter"})})," or ",(0,t.jsx)(n.a,{href:"/docs/api-reference/next/router.md#withRouter",children:(0,t.jsx)(n.code,{children:"withRouter"})}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["In general we recommend using ",(0,t.jsx)(n.a,{href:"/docs/api-reference/next/router.md#useRouter",children:(0,t.jsx)(n.code,{children:"useRouter"})}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"learn-more",children:"Learn more"}),"\n",(0,t.jsx)(n.p,{children:"The router is divided in multiple parts:"}),"\n",(0,t.jsx)("div",{class:"card",children:(0,t.jsxs)("a",{href:"/docs/api-reference/next/link.md",children:[(0,t.jsx)("b",{children:"next/link:"}),(0,t.jsx)("small",{children:"Handle client-side navigations."})]})}),"\n",(0,t.jsx)("div",{class:"card",children:(0,t.jsxs)("a",{href:"/docs/api-reference/next/router.md",children:[(0,t.jsx)("b",{children:"next/router:"}),(0,t.jsx)("small",{children:"Leverage the router API in your pages."})]})})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>l,a:()=>o});var t=s(7294);const i={},r=t.createContext(i);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);