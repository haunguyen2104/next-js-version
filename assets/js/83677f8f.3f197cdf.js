"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[2672],{6563:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var t=i(5893),s=i(1151);const r={description:"Next.js provides an integrated ESLint experience by default. These conformance rules help you use Next.js in the optimal way."},l="ESLint",d={id:"next-js/v13.0.1/basic-features/eslint",title:"ESLint",description:"Next.js provides an integrated ESLint experience by default. These conformance rules help you use Next.js in the optimal way.",source:"@site/docs/next-js/v13.0.1/basic-features/eslint.md",sourceDirName:"next-js/v13.0.1/basic-features",slug:"/next-js/v13.0.1/basic-features/eslint",permalink:"/next-js/v13.0.1/basic-features/eslint",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.1/basic-features/eslint.md",tags:[],version:"current",frontMatter:{description:"Next.js provides an integrated ESLint experience by default. These conformance rules help you use Next.js in the optimal way."},sidebar:"tutorialSidebar",previous:{title:"Environment Variables",permalink:"/next-js/v13.0.1/basic-features/environment-variables"},next:{title:"Fast Refresh",permalink:"/next-js/v13.0.1/basic-features/fast-refresh"}},o={},c=[{value:"ESLint Config",id:"eslint-config",level:2},{value:"ESLint Plugin",id:"eslint-plugin",level:2},{value:"Custom Settings",id:"custom-settings",level:3},{value:"<code>rootDir</code>",id:"rootdir",level:4},{value:"Linting Custom Directories and Files",id:"linting-custom-directories-and-files",level:2},{value:"Caching",id:"caching",level:2},{value:"Disabling Rules",id:"disabling-rules",level:2},{value:"Core Web Vitals",id:"core-web-vitals",level:3},{value:"Usage With Other Tools",id:"usage-with-other-tools",level:2},{value:"Prettier",id:"prettier",level:3},{value:"lint-staged",id:"lint-staged",level:3},{value:"Migrating Existing Config",id:"migrating-existing-config",level:2},{value:"Recommended Plugin Ruleset",id:"recommended-plugin-ruleset",level:3},{value:"Additional Configurations",id:"additional-configurations",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"eslint",children:"ESLint"}),"\n",(0,t.jsxs)(n.p,{children:["Next.js provides an integrated ",(0,t.jsx)(n.a,{href:"https://eslint.org/",children:"ESLint"})," experience out of the box. Add ",(0,t.jsx)(n.code,{children:"next lint"})," as a script to ",(0,t.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"scripts": {\n  "lint": "next lint"\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Then run ",(0,t.jsx)(n.code,{children:"npm run lint"})," or ",(0,t.jsx)(n.code,{children:"yarn lint"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn lint\n"})}),"\n",(0,t.jsx)(n.p,{children:"If you don't already have ESLint configured in your application, you will be guided through the installation and configuration process."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn lint\n\n# You'll see a prompt like this:\n#\n# ? How would you like to configure ESLint?\n#\n# \u276f   Base configuration + Core Web Vitals rule-set (recommended)\n#     Base configuration\n#     None\n"})}),"\n",(0,t.jsx)(n.p,{children:"One of the following three options can be selected:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Strict"}),": Includes Next.js' base ESLint configuration along with a stricter ",(0,t.jsx)(n.a,{href:"/docs/basic-features/eslint.md#core-web-vitals",children:"Core Web Vitals rule-set"}),". This is the recommended configuration for developers setting up ESLint for the first time."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "next/core-web-vitals"\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Base"}),": Includes Next.js' base ESLint configuration."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "next"\n}\n'})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Cancel"}),": Does not include any ESLint configuration. Only select this option if you plan on setting up your own custom ESLint configuration."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If either of the two configuration options are selected, Next.js will automatically install ",(0,t.jsx)(n.code,{children:"eslint"})," and ",(0,t.jsx)(n.code,{children:"eslint-config-next"})," as development dependencies in your application and create an ",(0,t.jsx)(n.code,{children:".eslintrc.json"})," file in the root of your project that includes your selected configuration."]}),"\n",(0,t.jsxs)(n.p,{children:["You can now run ",(0,t.jsx)(n.code,{children:"next lint"})," every time you want to run ESLint to catch errors. Once ESLint has been set up, it will also automatically run during every build (",(0,t.jsx)(n.code,{children:"next build"}),"). Errors will fail the build, while warnings will not."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["If you do not want ESLint to run during ",(0,t.jsx)(n.code,{children:"next build"}),", refer to the documentation for ",(0,t.jsx)(n.a,{href:"/docs/api-reference/next.config.js/ignoring-eslint.md",children:"Ignoring ESLint"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["We recommend using an appropriate ",(0,t.jsx)(n.a,{href:"https://eslint.org/docs/user-guide/integrations#editors",children:"integration"})," to view warnings and errors directly in your code editor during development."]}),"\n",(0,t.jsx)(n.h2,{id:"eslint-config",children:"ESLint Config"}),"\n",(0,t.jsxs)(n.p,{children:["The default configuration (",(0,t.jsx)(n.code,{children:"eslint-config-next"}),") includes everything you need to have an optimal out-of-the-box linting experience in Next.js. If you do not have ESLint already configured in your application, we recommend using ",(0,t.jsx)(n.code,{children:"next lint"})," to set up ESLint along with this configuration."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["If you would like to use ",(0,t.jsx)(n.code,{children:"eslint-config-next"})," along with other ESLint configurations, refer to the ",(0,t.jsx)(n.a,{href:"/docs/basic-features/eslint.md#additional-configurations",children:"Additional Configurations"})," section to learn how to do so without causing any conflicts."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Recommended rule-sets from the following ESLint plugins are all used within ",(0,t.jsx)(n.code,{children:"eslint-config-next"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/eslint-plugin-react",children:(0,t.jsx)(n.code,{children:"eslint-plugin-react"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/eslint-plugin-react-hooks",children:(0,t.jsx)(n.code,{children:"eslint-plugin-react-hooks"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@next/eslint-plugin-next",children:(0,t.jsx)(n.code,{children:"eslint-plugin-next"})})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["This will take precedence over the configuration from ",(0,t.jsx)(n.code,{children:"next.config.js"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"eslint-plugin",children:"ESLint Plugin"}),"\n",(0,t.jsxs)(n.p,{children:["Next.js provides an ESLint plugin, ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/@next/eslint-plugin-next",children:(0,t.jsx)(n.code,{children:"eslint-plugin-next"})}),", already bundled within the base configuration that makes it possible to catch common issues and problems in a Next.js application. The full set of rules is as follows:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u2714: Enabled in the recommended configuration"}),"\n"]}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{style:{textAlign:"center"}}),(0,t.jsx)(n.th,{children:"Rule"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/google-font-display.md",children:"@next/next/google-font-display"})}),(0,t.jsx)(n.td,{children:"Enforce font-display behavior with Google Fonts."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/google-font-preconnect.md",children:"@next/next/google-font-preconnect"})}),(0,t.jsxs)(n.td,{children:["Ensure ",(0,t.jsx)(n.code,{children:"preconnect"})," is used with Google Fonts."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/inline-script-id.md",children:"@next/next/inline-script-id"})}),(0,t.jsxs)(n.td,{children:["Enforce ",(0,t.jsx)(n.code,{children:"id"})," attribute on ",(0,t.jsx)(n.code,{children:"next/script"})," components with inline content."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/next-script-for-ga.md",children:"@next/next/next-script-for-ga"})}),(0,t.jsxs)(n.td,{children:["Prefer ",(0,t.jsx)(n.code,{children:"next/script"})," component when using the inline script for Google Analytics."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-assign-module-variable.md",children:"@next/next/no-assign-module-variable"})}),(0,t.jsxs)(n.td,{children:["Prevent assignment to the ",(0,t.jsx)(n.code,{children:"module"})," variable."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-before-interactive-script-outside-document.md",children:"@next/next/no-before-interactive-script-outside-document"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"next/script"}),"'s ",(0,t.jsx)(n.code,{children:"beforeInteractive"})," strategy outside of ",(0,t.jsx)(n.code,{children:"pages/_document.js"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-css-tags.md",children:"@next/next/no-css-tags"})}),(0,t.jsx)(n.td,{children:"Prevent manual stylesheet tags."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-document-import-in-page.md",children:"@next/next/no-document-import-in-page"})}),(0,t.jsxs)(n.td,{children:["Prevent importing ",(0,t.jsx)(n.code,{children:"next/document"})," outside of ",(0,t.jsx)(n.code,{children:"pages/_document.js"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-duplicate-head.md",children:"@next/next/no-duplicate-head"})}),(0,t.jsxs)(n.td,{children:["Prevent duplicate usage of ",(0,t.jsx)(n.code,{children:"<Head>"})," in ",(0,t.jsx)(n.code,{children:"pages/_document.js"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-head-element.md",children:"@next/next/no-head-element"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"<head>"})," element."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-head-import-in-document.md",children:"@next/next/no-head-import-in-document"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"next/head"})," in ",(0,t.jsx)(n.code,{children:"pages/_document.js"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-html-link-for-pages.md",children:"@next/next/no-html-link-for-pages"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"<a>"})," elements to navigate to internal Next.js pages."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-img-element.md",children:"@next/next/no-img-element"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"<img>"})," element to prevent layout shift."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-page-custom-font.md",children:"@next/next/no-page-custom-font"})}),(0,t.jsx)(n.td,{children:"Prevent page-only custom fonts."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-script-component-in-head.md",children:"@next/next/no-script-component-in-head"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"next/script"})," in ",(0,t.jsx)(n.code,{children:"next/head"})," component."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-styled-jsx-in-document.md",children:"@next/next/no-styled-jsx-in-document"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"styled-jsx"})," in ",(0,t.jsx)(n.code,{children:"pages/_document.js"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-sync-scripts.md",children:"@next/next/no-sync-scripts"})}),(0,t.jsx)(n.td,{children:"Prevent synchronous scripts."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-title-in-document-head.md",children:"@next/next/no-title-in-document-head"})}),(0,t.jsxs)(n.td,{children:["Prevent usage of ",(0,t.jsx)(n.code,{children:"<title>"})," with ",(0,t.jsx)(n.code,{children:"Head"})," component from ",(0,t.jsx)(n.code,{children:"next/document"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:"@next/next/no-typos"}),(0,t.jsxs)(n.td,{children:["Prevent common typos in ",(0,t.jsx)(n.a,{href:"/docs/basic-features/data-fetching.md",children:"Next.js's data fetching functions"})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{style:{textAlign:"center"},children:"\u2714\ufe0f"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.a,{href:"/docs/messages/no-unwanted-polyfillio.md",children:"@next/next/no-unwanted-polyfillio"})}),(0,t.jsx)(n.td,{children:"Prevent duplicate polyfills from Polyfill.io."})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["If you already have ESLint configured in your application, we recommend extending from this plugin directly instead of including ",(0,t.jsx)(n.code,{children:"eslint-config-next"})," unless a few conditions are met. Refer to the ",(0,t.jsx)(n.a,{href:"/docs/basic-features/eslint.md#recommended-plugin-ruleset",children:"Recommended Plugin Ruleset"})," to learn more."]}),"\n",(0,t.jsx)(n.h3,{id:"custom-settings",children:"Custom Settings"}),"\n",(0,t.jsx)(n.h4,{id:"rootdir",children:(0,t.jsx)(n.code,{children:"rootDir"})}),"\n",(0,t.jsxs)(n.p,{children:["If you're using ",(0,t.jsx)(n.code,{children:"eslint-plugin-next"})," in a project where Next.js isn't installed in your root directory (such as a monorepo), you can tell ",(0,t.jsx)(n.code,{children:"eslint-plugin-next"})," where to find your Next.js application using the ",(0,t.jsx)(n.code,{children:"settings"})," property in your ",(0,t.jsx)(n.code,{children:".eslintrc"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "next",\n  "settings": {\n    "next": {\n      "rootDir": "packages/my-app/"\n    }\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"rootDir"})," can be a path (relative or absolute), a glob (i.e. ",(0,t.jsx)(n.code,{children:'"packages/*/"'}),"), or an array of paths and/or globs."]}),"\n",(0,t.jsx)(n.h2,{id:"linting-custom-directories-and-files",children:"Linting Custom Directories and Files"}),"\n",(0,t.jsxs)(n.p,{children:["By default, Next.js will run ESLint for all files in the ",(0,t.jsx)(n.code,{children:"pages/"}),", ",(0,t.jsx)(n.code,{children:"components/"}),", ",(0,t.jsx)(n.code,{children:"lib/"}),", and ",(0,t.jsx)(n.code,{children:"src/"})," directories. However, you can specify which directories using the ",(0,t.jsx)(n.code,{children:"dirs"})," option in the ",(0,t.jsx)(n.code,{children:"eslint"})," config in ",(0,t.jsx)(n.code,{children:"next.config.js"})," for production builds:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  eslint: {\n    dirs: ['pages', 'utils'], // Only run ESLint on the 'pages' and 'utils' directories during production builds (next build)\n  },\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Similarly, the ",(0,t.jsx)(n.code,{children:"--dir"})," and ",(0,t.jsx)(n.code,{children:"--file"})," flags can be used for ",(0,t.jsx)(n.code,{children:"next lint"})," to lint specific directories and files:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"next lint --dir pages --dir utils --file bar.js\n"})}),"\n",(0,t.jsx)(n.h2,{id:"caching",children:"Caching"}),"\n",(0,t.jsxs)(n.p,{children:["To improve performance, information of files processed by ESLint are cached by default. This is stored in ",(0,t.jsx)(n.code,{children:".next/cache"})," or in your defined ",(0,t.jsx)(n.a,{href:"/docs/api-reference/next.config.js/setting-a-custom-build-directory",children:"build directory"}),". If you include any ESLint rules that depend on more than the contents of a single source file and need to disable the cache, use the ",(0,t.jsx)(n.code,{children:"--no-cache"})," flag with ",(0,t.jsx)(n.code,{children:"next lint"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"next lint --no-cache\n"})}),"\n",(0,t.jsx)(n.h2,{id:"disabling-rules",children:"Disabling Rules"}),"\n",(0,t.jsxs)(n.p,{children:["If you would like to modify or disable any rules provided by the supported plugins (",(0,t.jsx)(n.code,{children:"react"}),", ",(0,t.jsx)(n.code,{children:"react-hooks"}),", ",(0,t.jsx)(n.code,{children:"next"}),"), you can directly change them using the ",(0,t.jsx)(n.code,{children:"rules"})," property in your ",(0,t.jsx)(n.code,{children:".eslintrc"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "next",\n  "rules": {\n    "react/no-unescaped-entities": "off",\n    "@next/next/no-page-custom-font": "off"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"core-web-vitals",children:"Core Web Vitals"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"next/core-web-vitals"})," rule set is enabled when ",(0,t.jsx)(n.code,{children:"next lint"})," is run for the first time and the ",(0,t.jsx)(n.strong,{children:"strict"})," option is selected."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": "next/core-web-vitals"\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"next/core-web-vitals"})," updates ",(0,t.jsx)(n.code,{children:"eslint-plugin-next"})," to error on a number of rules that are warnings by default if they affect ",(0,t.jsx)(n.a,{href:"https://web.dev/vitals/",children:"Core Web Vitals"}),"."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"next/core-web-vitals"})," entry point is automatically included for new applications built with ",(0,t.jsx)(n.a,{href:"/docs/api-reference/create-next-app.md",children:"Create Next App"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"usage-with-other-tools",children:"Usage With Other Tools"}),"\n",(0,t.jsx)(n.h3,{id:"prettier",children:"Prettier"}),"\n",(0,t.jsxs)(n.p,{children:["ESLint also contains code formatting rules, which can conflict with your existing ",(0,t.jsx)(n.a,{href:"https://prettier.io/",children:"Prettier"})," setup. We recommend including ",(0,t.jsx)(n.a,{href:"https://github.com/prettier/eslint-config-prettier",children:"eslint-config-prettier"})," in your ESLint config to make ESLint and Prettier work together."]}),"\n",(0,t.jsx)(n.p,{children:"First, install the dependency:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev eslint-config-prettier\n# or\nyarn add --dev eslint-config-prettier\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Then, add ",(0,t.jsx)(n.code,{children:"prettier"})," to your existing ESLint config:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "extends": ["next", "prettier"]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"lint-staged",children:"lint-staged"}),"\n",(0,t.jsxs)(n.p,{children:["If you would like to use ",(0,t.jsx)(n.code,{children:"next lint"})," with ",(0,t.jsx)(n.a,{href:"https://github.com/okonet/lint-staged",children:"lint-staged"})," to run the linter on staged git files, you'll have to add the following to the ",(0,t.jsx)(n.code,{children:".lintstagedrc.js"})," file in the root of your project in order to specify usage of the ",(0,t.jsx)(n.code,{children:"--file"})," flag."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"const path = require('path')\n\nconst buildEslintCommand = (filenames) =>\n  `next lint --fix --file ${filenames\n    .map((f) => path.relative(process.cwd(), f))\n    .join(' --file ')}`\n\nmodule.exports = {\n  '*.{js,jsx,ts,tsx}': [buildEslintCommand],\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"migrating-existing-config",children:"Migrating Existing Config"}),"\n",(0,t.jsx)(n.h3,{id:"recommended-plugin-ruleset",children:"Recommended Plugin Ruleset"}),"\n",(0,t.jsx)(n.p,{children:"If you already have ESLint configured in your application and any of the following conditions are true:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You have one or more of the following plugins already installed (either separately or through a different config such as ",(0,t.jsx)(n.code,{children:"airbnb"})," or ",(0,t.jsx)(n.code,{children:"react-app"}),"):","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"react"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"react-hooks"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"jsx-a11y"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"import"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["You've defined specific ",(0,t.jsx)(n.code,{children:"parserOptions"})," that are different from how Babel is configured within Next.js (this is not recommended unless you have ",(0,t.jsx)(n.a,{href:"/docs/advanced-features/customizing-babel-config.md",children:"customized your Babel configuration"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:["You have ",(0,t.jsx)(n.code,{children:"eslint-plugin-import"})," installed with Node.js and/or TypeScript ",(0,t.jsx)(n.a,{href:"https://github.com/benmosher/eslint-plugin-import#resolvers",children:"resolvers"})," defined to handle imports"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Then we recommend either removing these settings if you prefer how these properties have been configured within ",(0,t.jsx)(n.a,{href:"https://github.com/vercel/next.js/blob/canary/packages/eslint-config-next/index.js",children:(0,t.jsx)(n.code,{children:"eslint-config-next"})})," or extending directly from the Next.js ESLint plugin instead:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  extends: [\n    //...\n    'plugin:@next/next/recommended',\n  ],\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The plugin can be installed normally in your project without needing to run ",(0,t.jsx)(n.code,{children:"next lint"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev @next/eslint-plugin-next\n# or\nyarn add --dev @next/eslint-plugin-next\n"})}),"\n",(0,t.jsx)(n.p,{children:"This eliminates the risk of collisions or errors that can occur due to importing the same plugin or parser across multiple configurations."}),"\n",(0,t.jsx)(n.h3,{id:"additional-configurations",children:"Additional Configurations"}),"\n",(0,t.jsxs)(n.p,{children:["If you already use a separate ESLint configuration and want to include ",(0,t.jsx)(n.code,{children:"eslint-config-next"}),", ensure that it is extended last after other configurations. For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'{\n  "extends": ["eslint:recommended", "next"]\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"next"})," configuration already handles setting default values for the ",(0,t.jsx)(n.code,{children:"parser"}),", ",(0,t.jsx)(n.code,{children:"plugins"})," and ",(0,t.jsx)(n.code,{children:"settings"})," properties. There is no need to manually re-declare any of these properties unless you need a different configuration for your use case. If you include any other shareable configurations, ",(0,t.jsx)(n.strong,{children:"you will need to make sure that these properties are not overwritten or modified"}),". Otherwise, we recommend removing any configurations that share behavior with the ",(0,t.jsx)(n.code,{children:"next"})," configuration or extending directly from the Next.js ESLint plugin as mentioned above."]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},1151:(e,n,i)=>{i.d(n,{Z:()=>d,a:()=>l});var t=i(7294);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);