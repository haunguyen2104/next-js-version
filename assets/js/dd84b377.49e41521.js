"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[7514],{1008:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var s=t(5893),r=t(1151);const i={description:"Next.js supports TypeScript by default and has built-in types for pages and the API. You can get started with TypeScript in Next.js here."},c="TypeScript",o={id:"next-js/v13.0.1/basic-features/typescript",title:"TypeScript",description:"Next.js supports TypeScript by default and has built-in types for pages and the API. You can get started with TypeScript in Next.js here.",source:"@site/docs/next-js/v13.0.1/basic-features/typescript.md",sourceDirName:"next-js/v13.0.1/basic-features",slug:"/next-js/v13.0.1/basic-features/typescript",permalink:"/next-js/v13.0.1/basic-features/typescript",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.1/basic-features/typescript.md",tags:[],version:"current",frontMatter:{description:"Next.js supports TypeScript by default and has built-in types for pages and the API. You can get started with TypeScript in Next.js here."},sidebar:"tutorialSidebar",previous:{title:"Supported Browsers and Features",permalink:"/next-js/v13.0.1/basic-features/supported-browsers-features"},next:{title:"Deployment",permalink:"/next-js/v13.0.1/deployment"}},a={},d=[{value:"<code>create-next-app</code> support",id:"create-next-app-support",level:2},{value:"Existing projects",id:"existing-projects",level:2},{value:"Static Generation and Server-side Rendering",id:"static-generation-and-server-side-rendering",level:2},{value:"API Routes",id:"api-routes",level:2},{value:"Custom <code>App</code>",id:"custom-app",level:2},{value:"Path aliases and baseUrl",id:"path-aliases-and-baseurl",level:2},{value:"Type checking next.config.js",id:"type-checking-nextconfigjs",level:2},{value:"Incremental type checking",id:"incremental-type-checking",level:2},{value:"Ignoring TypeScript Errors",id:"ignoring-typescript-errors",level:2}];function p(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"typescript",children:"TypeScript"}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)("b",{children:"Version History"})}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Version"}),(0,s.jsx)(n.th,{children:"Changes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"v12.0.0"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.a,{href:"https://nextjs.org/docs/advanced-features/compiler",children:"SWC"})," is now used by default to compile TypeScript and TSX for faster builds."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"v10.2.1"})}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#incremental",children:"Incremental type checking"})," support added when enabled in your ",(0,s.jsx)(n.code,{children:"tsconfig.json"}),"."]})]})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Next.js provides an integrated ",(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/",children:"TypeScript"})," experience, including zero-configuration set up and built-in types for Pages, APIs, and more."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fvercel%2Fnext.js%2Ftree%2Fcanary%2Fexamples%2Fwith-typescript&project-name=with-typescript&repository-name=with-typescript&utm_source=next-site&utm_medium=docs&utm_campaign=next-website",children:"Clone and deploy the TypeScript starter"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/vercel/next.js/tree/canary/examples/with-typescript",children:"View an example application"})}),"\n"]}),"\n",(0,s.jsxs)(n.h2,{id:"create-next-app-support",children:[(0,s.jsx)(n.code,{children:"create-next-app"})," support"]}),"\n",(0,s.jsxs)(n.p,{children:["You can create a TypeScript project with ",(0,s.jsx)(n.a,{href:"https://nextjs.org/docs/api-reference/create-next-app",children:(0,s.jsx)(n.code,{children:"create-next-app"})})," using the ",(0,s.jsx)(n.code,{children:"--ts, --typescript"})," flag like so:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"npx create-next-app@latest --ts\n# or\nyarn create next-app --typescript\n# or\npnpm create next-app --ts\n"})}),"\n",(0,s.jsx)(n.h2,{id:"existing-projects",children:"Existing projects"}),"\n",(0,s.jsxs)(n.p,{children:["To get started in an existing project, create an empty ",(0,s.jsx)(n.code,{children:"tsconfig.json"})," file in\nthe root folder:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"touch tsconfig.json\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Next.js will automatically configure this file with default values. Providing your own ",(0,s.jsx)(n.code,{children:"tsconfig.json"})," with custom ",(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/docs/handbook/compiler-options.html",children:"compiler options"})," is also supported."]}),"\n",(0,s.jsxs)(n.p,{children:["You can also provide a relative path to a tsconfig.json file by setting ",(0,s.jsx)(n.code,{children:"typescript.tsconfigPath"})," prop inside your ",(0,s.jsx)(n.code,{children:"next.config.js"})," file."]}),"\n",(0,s.jsxs)(n.p,{children:["Starting in ",(0,s.jsx)(n.code,{children:"v12.0.0"}),", Next.js uses ",(0,s.jsx)(n.a,{href:"https://nextjs.org/docs/advanced-features/compiler",children:"SWC"})," by default to compile TypeScript and TSX for faster builds."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Next.js will use Babel to handle TypeScript if ",(0,s.jsx)(n.code,{children:".babelrc"})," is present. This has some ",(0,s.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-plugin-transform-typescript#caveats",children:"caveats"})," and some ",(0,s.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-plugin-transform-typescript#typescript-compiler-options",children:"compiler options are handled differently"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Then, run ",(0,s.jsx)(n.code,{children:"next"})," (normally ",(0,s.jsx)(n.code,{children:"npm run dev"})," or ",(0,s.jsx)(n.code,{children:"yarn dev"}),") and Next.js will guide you through the installation of the required packages to finish the setup:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"npm run dev\n\n# You'll see instructions like these:\n#\n# Please install TypeScript, @types/react, and @types/node by running:\n#\n#         yarn add --dev typescript @types/react @types/node\n#\n# ...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You're now ready to start converting files from ",(0,s.jsx)(n.code,{children:".js"})," to ",(0,s.jsx)(n.code,{children:".tsx"})," and leveraging the benefits of TypeScript!"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["A file named ",(0,s.jsx)(n.code,{children:"next-env.d.ts"})," will be created at the root of your project. This file ensures Next.js types are picked up by the TypeScript compiler. ",(0,s.jsx)(n.strong,{children:"You should not remove it or edit it"})," as it can change at any time. This file should not be committed and should be ignored by version control (e.g. inside your ",(0,s.jsx)(n.code,{children:".gitignore"})," file)."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["TypeScript ",(0,s.jsx)(n.code,{children:"strict"})," mode is turned off by default. When you feel comfortable with TypeScript, it's recommended to turn it on in your ",(0,s.jsx)(n.code,{children:"tsconfig.json"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Instead of editing ",(0,s.jsx)(n.code,{children:"next-env.d.ts"}),", you can include additional types by adding a new file e.g. ",(0,s.jsx)(n.code,{children:"additional.d.ts"})," and then referencing it in the ",(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#include",children:(0,s.jsx)(n.code,{children:"include"})})," array in your ",(0,s.jsx)(n.code,{children:"tsconfig.json"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["By default, Next.js will do type checking as part of ",(0,s.jsx)(n.code,{children:"next build"}),". We recommend using code editor type checking during development."]}),"\n",(0,s.jsxs)(n.p,{children:["If you want to silence the error reports, refer to the documentation for ",(0,s.jsx)(n.a,{href:"/docs/api-reference/next.config.js/ignoring-typescript-errors.md",children:"Ignoring TypeScript errors"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"static-generation-and-server-side-rendering",children:"Static Generation and Server-side Rendering"}),"\n",(0,s.jsxs)(n.p,{children:["For ",(0,s.jsx)(n.code,{children:"getStaticProps"}),", ",(0,s.jsx)(n.code,{children:"getStaticPaths"}),", and ",(0,s.jsx)(n.code,{children:"getServerSideProps"}),", you can use the ",(0,s.jsx)(n.code,{children:"GetStaticProps"}),", ",(0,s.jsx)(n.code,{children:"GetStaticPaths"}),", and ",(0,s.jsx)(n.code,{children:"GetServerSideProps"})," types respectively:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import { GetStaticProps, GetStaticPaths, GetServerSideProps } from 'next'\n\nexport const getStaticProps: GetStaticProps = async (context) => {\n  // ...\n}\n\nexport const getStaticPaths: GetStaticPaths = async () => {\n  // ...\n}\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  // ...\n}\n"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["If you're using ",(0,s.jsx)(n.code,{children:"getInitialProps"}),", you can ",(0,s.jsx)(n.a,{href:"/docs/api-reference/data-fetching/get-initial-props.md#typescript",children:"follow the directions on this page"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"api-routes",children:"API Routes"}),"\n",(0,s.jsx)(n.p,{children:"The following is an example of how to use the built-in types for API routes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import type { NextApiRequest, NextApiResponse } from 'next'\n\nexport default (req: NextApiRequest, res: NextApiResponse) => {\n  res.status(200).json({ name: 'John Doe' })\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"You can also type the response data:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import type { NextApiRequest, NextApiResponse } from 'next'\n\ntype Data = {\n  name: string\n}\n\nexport default (req: NextApiRequest, res: NextApiResponse<Data>) => {\n  res.status(200).json({ name: 'John Doe' })\n}\n"})}),"\n",(0,s.jsxs)(n.h2,{id:"custom-app",children:["Custom ",(0,s.jsx)(n.code,{children:"App"})]}),"\n",(0,s.jsxs)(n.p,{children:["If you have a ",(0,s.jsxs)(n.a,{href:"/docs/advanced-features/custom-app.md",children:["custom ",(0,s.jsx)(n.code,{children:"App"})]}),", you can use the built-in type ",(0,s.jsx)(n.code,{children:"AppProps"})," and change file name to ",(0,s.jsx)(n.code,{children:"./pages/_app.tsx"})," like so:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import type { AppProps } from 'next/app'\n\nexport default function MyApp({ Component, pageProps }: AppProps) {\n  return <Component {...pageProps} />\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"path-aliases-and-baseurl",children:"Path aliases and baseUrl"}),"\n",(0,s.jsxs)(n.p,{children:["Next.js automatically supports the ",(0,s.jsx)(n.code,{children:"tsconfig.json"})," ",(0,s.jsx)(n.code,{children:'"paths"'})," and ",(0,s.jsx)(n.code,{children:'"baseUrl"'})," options."]}),"\n",(0,s.jsxs)(n.p,{children:["You can learn more about this feature on the ",(0,s.jsx)(n.a,{href:"/docs/advanced-features/module-path-aliases.md",children:"Module Path aliases documentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"type-checking-nextconfigjs",children:"Type checking next.config.js"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"next.config.js"})," file must be a JavaScript file as it does not get parsed by Babel or TypeScript, however you can add some type checking in your IDE using JSDoc as below:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// @ts-check\n\n/**\n * @type {import('next').NextConfig}\n **/\nconst nextConfig = {\n  /* config options here */\n}\n\nmodule.exports = nextConfig\n"})}),"\n",(0,s.jsx)(n.h2,{id:"incremental-type-checking",children:"Incremental type checking"}),"\n",(0,s.jsxs)(n.p,{children:["Since ",(0,s.jsx)(n.code,{children:"v10.2.1"})," Next.js supports ",(0,s.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#incremental",children:"incremental type checking"})," when enabled in your ",(0,s.jsx)(n.code,{children:"tsconfig.json"}),", this can help speed up type checking in larger applications."]}),"\n",(0,s.jsxs)(n.p,{children:["It is highly recommended to be on at least ",(0,s.jsx)(n.code,{children:"v4.3.2"})," of TypeScript to experience the ",(0,s.jsx)(n.a,{href:"https://devblogs.microsoft.com/typescript/announcing-typescript-4-3/#lazier-incremental",children:"best performance"})," when leveraging this feature."]}),"\n",(0,s.jsx)(n.h2,{id:"ignoring-typescript-errors",children:"Ignoring TypeScript Errors"}),"\n",(0,s.jsxs)(n.p,{children:["Next.js fails your ",(0,s.jsx)(n.strong,{children:"production build"})," (",(0,s.jsx)(n.code,{children:"next build"}),") when TypeScript errors are present in your project."]}),"\n",(0,s.jsx)(n.p,{children:"If you'd like Next.js to dangerously produce production code even when your application has errors, you can disable the built-in type checking step."}),"\n",(0,s.jsx)(n.p,{children:"If disabled, be sure you are running type checks as part of your build or deploy process, otherwise this can be very dangerous."}),"\n",(0,s.jsxs)(n.p,{children:["Open ",(0,s.jsx)(n.code,{children:"next.config.js"})," and enable the ",(0,s.jsx)(n.code,{children:"ignoreBuildErrors"})," option in the ",(0,s.jsx)(n.code,{children:"typescript"})," config:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  typescript: {\n    // !! WARN !!\n    // Dangerously allow production builds to successfully complete even if\n    // your project has type errors.\n    // !! WARN !!\n    ignoreBuildErrors: true,\n  },\n}\n"})})]})}function l(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>c});var s=t(7294);const r={},i=s.createContext(r);function c(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);