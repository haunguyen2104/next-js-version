"use strict";(self.webpackChunknext_version=self.webpackChunknext_version||[]).push([[4290],{1379:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>c,toc:()=>a});var i=t(5893),s=t(1151);const r={description:"Enable client-side transitions between routes with the built-in Link component."},o="next/link",c={id:"next-js/v13.0.1/api-reference/next/link",title:"next/link",description:"Enable client-side transitions between routes with the built-in Link component.",source:"@site/docs/next-js/v13.0.1/api-reference/next/link.md",sourceDirName:"next-js/v13.0.1/api-reference/next",slug:"/next-js/v13.0.1/api-reference/next/link",permalink:"/next-js/v13.0.1/api-reference/next/link",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/next-js/v13.0.1/api-reference/next/link.md",tags:[],version:"current",frontMatter:{description:"Enable client-side transitions between routes with the built-in Link component."},sidebar:"tutorialSidebar",previous:{title:"next/legacy/image",permalink:"/next-js/v13.0.1/api-reference/next/legacy/image"},next:{title:"next/router",permalink:"/next-js/v13.0.1/api-reference/next/router"}},l={},a=[{value:"If the route has dynamic segments",id:"if-the-route-has-dynamic-segments",level:2},{value:"If the child is <code>&lt;a&gt;</code> tag",id:"if-the-child-is-a-tag",level:2},{value:"If the child is a custom component that wraps an <code>&lt;a&gt;</code> tag",id:"if-the-child-is-a-custom-component-that-wraps-an-a-tag",level:2},{value:"If the child is a functional component",id:"if-the-child-is-a-functional-component",level:2},{value:"With URL Object",id:"with-url-object",level:2},{value:"Replace the URL instead of push",id:"replace-the-url-instead-of-push",level:2},{value:"Disable scrolling to the top of the page",id:"disable-scrolling-to-the-top-of-the-page",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.a)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"nextlink",children:"next/link"}),"\n",(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)("b",{children:"Examples"})}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/hello-world",children:"Hello World"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/active-class-name",children:"Active className on Link"})})]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Before moving forward, we recommend you to read ",(0,i.jsx)(n.a,{href:"/docs/routing/introduction.md",children:"Routing Introduction"})," first."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Client-side transitions between routes can be enabled via the ",(0,i.jsx)(n.code,{children:"Link"})," component exported by ",(0,i.jsx)(n.code,{children:"next/link"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For an example, consider a ",(0,i.jsx)(n.code,{children:"pages"})," directory with the following files:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"pages/index.js"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"pages/about.js"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"pages/blog/[slug].js"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"We can have a link to each of these pages like so:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'import Link from \'next/link\'\n\nfunction Home() {\n  return (\n    <ul>\n      <li>\n        <Link href="/">Home</Link>\n      </li>\n      <li>\n        <Link href="/about">About Us</Link>\n      </li>\n      <li>\n        <Link href="/blog/hello-world">Blog Post</Link>\n      </li>\n    </ul>\n  )\n}\n\nexport default Home\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Link"})," accepts the following props:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"href"})," - The path or URL to navigate to. This is the only required prop. It can also be an object, see ",(0,i.jsx)(n.a,{href:"/docs/api-reference/next/link.md#with-url-object",children:"example here"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"as"})," - Optional decorator for the path that will be shown in the browser URL bar. Before Next.js 9.5.3 this was used for dynamic routes, check our ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/tag/v9.5.2/api-reference/next/link#dynamic-routes",children:"previous docs"})," to see how it worked. Note: when this path differs from the one provided in ",(0,i.jsx)(n.code,{children:"href"})," the previous ",(0,i.jsx)(n.code,{children:"href"}),"/",(0,i.jsx)(n.code,{children:"as"})," behavior is used as shown in the ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/tag/v9.5.2/api-reference/next/link#dynamic-routes",children:"previous docs"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#if-the-child-is-a-tag",children:(0,i.jsx)(n.code,{children:"legacyBehavior"})})," - Changes behavior so that child must be ",(0,i.jsx)(n.code,{children:"<a>"}),". Defaults to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#if-the-child-is-a-custom-component-that-wraps-an-a-tag",children:(0,i.jsx)(n.code,{children:"passHref"})})," - Forces ",(0,i.jsx)(n.code,{children:"Link"})," to send the ",(0,i.jsx)(n.code,{children:"href"})," property to its child. Defaults to ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"prefetch"})," - Prefetch the page in the background. Defaults to ",(0,i.jsx)(n.code,{children:"true"}),". Any ",(0,i.jsx)(n.code,{children:"<Link />"})," that is in the viewport (initially or through scroll) will be preloaded. Prefetch can be disabled by passing ",(0,i.jsx)(n.code,{children:"prefetch={false}"}),". When ",(0,i.jsx)(n.code,{children:"prefetch"})," is set to ",(0,i.jsx)(n.code,{children:"false"}),", prefetching will still occur on hover. Pages using ",(0,i.jsx)(n.a,{href:"/docs/basic-features/data-fetching/get-static-props.md",children:"Static Generation"})," will preload ",(0,i.jsx)(n.code,{children:"JSON"})," files with the data for faster page transitions. Prefetching is only enabled in production."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#replace-the-url-instead-of-push",children:(0,i.jsx)(n.code,{children:"replace"})})," - Replace the current ",(0,i.jsx)(n.code,{children:"history"})," state instead of adding a new url into the stack. Defaults to ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"#disable-scrolling-to-the-top-of-the-page",children:(0,i.jsx)(n.code,{children:"scroll"})})," - Scroll to the top of the page after a navigation. Defaults to ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/routing/shallow-routing.md",children:(0,i.jsx)(n.code,{children:"shallow"})})," - Update the path of the current page without rerunning ",(0,i.jsx)(n.a,{href:"/docs/basic-features/data-fetching/get-static-props.md",children:(0,i.jsx)(n.code,{children:"getStaticProps"})}),", ",(0,i.jsx)(n.a,{href:"/docs/basic-features/data-fetching/get-server-side-props.md",children:(0,i.jsx)(n.code,{children:"getServerSideProps"})})," or ",(0,i.jsx)(n.a,{href:"/docs/api-reference/data-fetching/get-initial-props.md",children:(0,i.jsx)(n.code,{children:"getInitialProps"})}),". Defaults to ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"locale"})," - The active locale is automatically prepended. ",(0,i.jsx)(n.code,{children:"locale"})," allows for providing a different locale. When ",(0,i.jsx)(n.code,{children:"false"})," ",(0,i.jsx)(n.code,{children:"href"})," has to include the locale as the default behavior is disabled."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"if-the-route-has-dynamic-segments",children:"If the route has dynamic segments"}),"\n",(0,i.jsxs)(n.p,{children:["There is nothing to do when linking to a ",(0,i.jsx)(n.a,{href:"/docs/routing/dynamic-routes.md",children:"dynamic route"}),", including ",(0,i.jsx)(n.a,{href:"/docs/routing/dynamic-routes.md#catch-all-routes",children:"catch all routes"}),", since Next.js 9.5.3 (for older versions check our ",(0,i.jsx)(n.a,{href:"https://nextjs.org/docs/tag/v9.5.2/api-reference/next/link#dynamic-routes",children:"previous docs"}),"). However, it can become quite common and handy to use ",(0,i.jsx)(n.a,{href:"/docs/routing/introduction.md#linking-to-dynamic-paths",children:"interpolation"})," or an ",(0,i.jsx)(n.a,{href:"#with-url-object",children:"URL Object"})," to generate the link."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, the dynamic route ",(0,i.jsx)(n.code,{children:"pages/blog/[slug].js"})," will match the following link:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import Link from 'next/link'\n\nfunction Posts({ posts }) {\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li key={post.id}>\n          <Link href={`/blog/${encodeURIComponent(post.slug)}`}>\n            {post.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  )\n}\n\nexport default Posts\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"if-the-child-is-a-tag",children:["If the child is ",(0,i.jsx)(n.code,{children:"<a>"})," tag"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import Link from 'next/link'\n\nfunction Legacy() {\n  return (\n    <Link href=\"/about\" legacyBehavior>\n      <a>About Us</a>\n    </Link>\n  )\n}\n\nexport default Legacy\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"if-the-child-is-a-custom-component-that-wraps-an-a-tag",children:["If the child is a custom component that wraps an ",(0,i.jsx)(n.code,{children:"<a>"})," tag"]}),"\n",(0,i.jsxs)(n.p,{children:["If the child of ",(0,i.jsx)(n.code,{children:"Link"})," is a custom component that wraps an ",(0,i.jsx)(n.code,{children:"<a>"})," tag, you must add ",(0,i.jsx)(n.code,{children:"passHref"})," to ",(0,i.jsx)(n.code,{children:"Link"}),". This is necessary if you\u2019re using libraries like ",(0,i.jsx)(n.a,{href:"https://styled-components.com/",children:"styled-components"}),". Without this, the ",(0,i.jsx)(n.code,{children:"<a>"})," tag will not have the ",(0,i.jsx)(n.code,{children:"href"})," attribute, which hurts your site's accessibility and might affect SEO. If you're using ",(0,i.jsx)(n.a,{href:"/docs/basic-features/eslint.md#eslint-plugin",children:"ESLint"}),", there is a built-in rule ",(0,i.jsx)(n.code,{children:"next/link-passhref"})," to ensure correct usage of ",(0,i.jsx)(n.code,{children:"passHref"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import Link from 'next/link'\nimport styled from 'styled-components'\n\n// This creates a custom component that wraps an <a> tag\nconst RedLink = styled.a`\n  color: red;\n`\n\nfunction NavLink({ href, name }) {\n  return (\n    <Link href={href} passHref legacyBehavior>\n      <RedLink>{name}</RedLink>\n    </Link>\n  )\n}\n\nexport default NavLink\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you\u2019re using ",(0,i.jsx)(n.a,{href:"https://emotion.sh/",children:"emotion"}),"\u2019s JSX pragma feature (",(0,i.jsx)(n.code,{children:"@jsx jsx"}),"), you must use ",(0,i.jsx)(n.code,{children:"passHref"})," even if you use an ",(0,i.jsx)(n.code,{children:"<a>"})," tag directly."]}),"\n",(0,i.jsxs)(n.li,{children:["The component should support ",(0,i.jsx)(n.code,{children:"onClick"})," property to trigger navigation correctly"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"if-the-child-is-a-functional-component",children:"If the child is a functional component"}),"\n",(0,i.jsxs)(n.p,{children:["If the child of ",(0,i.jsx)(n.code,{children:"Link"})," is a functional component, in addition to using ",(0,i.jsx)(n.code,{children:"passHref"})," and ",(0,i.jsx)(n.code,{children:"legacyBehavior"}),", you must wrap the component in ",(0,i.jsx)(n.a,{href:"https://reactjs.org/docs/react-api.html#reactforwardref",children:(0,i.jsx)(n.code,{children:"React.forwardRef"})}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import Link from 'next/link'\n\n// `onClick`, `href`, and `ref` need to be passed to the DOM element\n// for proper handling\nconst MyButton = React.forwardRef(({ onClick, href }, ref) => {\n  return (\n    <a href={href} onClick={onClick} ref={ref}>\n      Click Me\n    </a>\n  )\n})\n\nfunction Home() {\n  return (\n    <Link href=\"/about\" passHref legacyBehavior>\n      <MyButton />\n    </Link>\n  )\n}\n\nexport default Home\n"})}),"\n",(0,i.jsx)(n.h2,{id:"with-url-object",children:"With URL Object"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Link"})," can also receive a URL object and it will automatically format it to create the URL string. Here's how to do it:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"import Link from 'next/link'\n\nfunction Home() {\n  return (\n    <ul>\n      <li>\n        <Link\n          href={{\n            pathname: '/about',\n            query: { name: 'test' },\n          }}\n        >\n          About us\n        </Link>\n      </li>\n      <li>\n        <Link\n          href={{\n            pathname: '/blog/[slug]',\n            query: { slug: 'my-post' },\n          }}\n        >\n          Blog Post\n        </Link>\n      </li>\n    </ul>\n  )\n}\n\nexport default Home\n"})}),"\n",(0,i.jsx)(n.p,{children:"The above example has a link to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["A predefined route: ",(0,i.jsx)(n.code,{children:"/about?name=test"})]}),"\n",(0,i.jsxs)(n.li,{children:["A ",(0,i.jsx)(n.a,{href:"/docs/routing/dynamic-routes.md",children:"dynamic route"}),": ",(0,i.jsx)(n.code,{children:"/blog/my-post"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can use every property as defined in the ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/url.html#url_url_strings_and_url_objects",children:"Node.js URL module documentation"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"replace-the-url-instead-of-push",children:"Replace the URL instead of push"}),"\n",(0,i.jsxs)(n.p,{children:["The default behavior of the ",(0,i.jsx)(n.code,{children:"Link"})," component is to ",(0,i.jsx)(n.code,{children:"push"})," a new URL into the ",(0,i.jsx)(n.code,{children:"history"})," stack. You can use the ",(0,i.jsx)(n.code,{children:"replace"})," prop to prevent adding a new entry, as in the following example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'<Link href="/about" replace>\n  About us\n</Link>\n'})}),"\n",(0,i.jsx)(n.h2,{id:"disable-scrolling-to-the-top-of-the-page",children:"Disable scrolling to the top of the page"}),"\n",(0,i.jsxs)(n.p,{children:["The default behavior of ",(0,i.jsx)(n.code,{children:"Link"})," is to scroll to the top of the page. When there is a hash defined it will scroll to the specific id, like a normal ",(0,i.jsx)(n.code,{children:"<a>"})," tag. To prevent scrolling to the top / hash ",(0,i.jsx)(n.code,{children:"scroll={false}"})," can be added to ",(0,i.jsx)(n.code,{children:"Link"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'<Link href="/#hashid" scroll={false}>\n  Disables scrolling to the top\n</Link>\n'})})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>o});var i=t(7294);const s={},r=i.createContext(s);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);